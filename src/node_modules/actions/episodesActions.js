import api from '../api/episodes'

export const GET_EPISODE = 'GET_EPISODE';

export function getEpisodesRequest() {
    return {
        type: GET_EPISODE
    }
}

export function getEpisodesSuccess(message) {
    return {
        type: GET_EPISODE,
        status: 'success',
        message: message
    }
}

export function getEpisodesFailure(error) {
    return {
        type: GET_EPISODE,
        status: 'error',
        error: error
    }
}

export default function getEpisodes(numberOfEpisodes , fromEpisode , isSubscribed) {
    return dispatch => {
        dispatch(getEpisodesRequest());
        api.getEpisodes(numberOfEpisodes , fromEpisode , isSubscribed)
            .then(episodes => dispatch(getEpisodesSuccess(episodes)))
            .catch(error => dispatch(getEpisodesFailure(error)))
    }
}