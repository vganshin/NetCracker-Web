import React from 'react'
import { connect } from 'react-redux'
import { Profile, LoginForm } from 'components'
import { login } from 'actions'

@connect(state => {
  return { profile: state.profile }
})
export default class Auth extends React.Component {
  render() {
    const { dispatch, profile } = this.props;

    return (
      <div>
        { profile.email ?
          <Profile profile={profile} /> :
          <LoginForm onLoginClick={ credentials => dispatch(login(credentials)) } />
        } 
      </div>
    )
  }
}
