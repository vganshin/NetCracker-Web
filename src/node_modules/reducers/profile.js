import {
  REQUEST_PROFILE,
  RECEIVE_PROFILE,
  RECEIVE_ANONYMOUS,
  INVALIDATE_PROFILE,
} from 'actions'

const DEFAULT_STATE = {
  isFetching: false,
  didinvalidate: false
};

export default function profile (state = DEFAULT_STATE, action) {
  switch (action.type) {
    case REQUEST_PROFILE:
      return { ...state, isFetching: true };
    case RECEIVE_ANONYMOUS:
      return DEFAULT_STATE;
    case INVALIDATE_PROFILE:
      return { ...state, didinvalidate: true };
    case RECEIVE_PROFILE:
      return { ...action.profile, isFetching: false, didinvalidate: false};
    default:
      return state;
  }
}