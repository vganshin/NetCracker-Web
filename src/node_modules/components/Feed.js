import React from 'react'
import Episode from './Episode'


export default class Feed extends React.Component {

    getEpisodes() {
        this.props.addEpisodes(this.props.episodes.length+1);
    }

    render() {
        const { episodes, isLoading, error }  = this.props;
        return (
            <div className="row">
                <div className="row">
                    <div className="large-6 large-centered columns">
                        {episodes.map(function (episode) {
                            return <Episode key={episode.id} episode={episode}/>
                        })}
                    </div>
                </div>
                <div className="row">
                    <div className="large-7 large-centered columns">
                        <a href="#" onClick={() => this.getEpisodes()} className="button expand">Expanded Button</a>
                    </div>
                </div>

                {() => {
                    if (isLoading == true) {
                        return (
                            <div className="row">Загрузка...</div>
                        )
                    }
                    if (error) {
                        return (
                            <div className="row">{error}</div>
                        )
                    }
                }}
            </div>
        )
    }

}