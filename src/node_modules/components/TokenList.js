import React from 'react'

export default class TokenList extends React.Component {
  render() {
    const { tokens, submit } = this.props;

    return (
      <div>
        {tokens.map(token => <Token key={token.id} token={token} submit={submit} />)}
      </div>
    );
  };
};

class Token extends React.Component {
  renderStudio(token) {
    if (token.studio) {
      return <span>{token.studio.name} ({token.studio.language})</span>
    } else {
      return <span>{token.serial.language}</span>
    }
  }

  render() {
    const { token, submit } = this.props;

    let style = "large-6 large-centered columns token-component "; 
    style += token.subscribed ? "token-component__subscribed" : "token-component__unsubscribed";

    return (
      <div className={style}>
        <div className="token-component__right">
          {token.serial.title}
          <div className="token-component__studio" >{this.renderStudio(token)}</div>
        </div>
        <div className="token-component__left">
          <span type="button" className="token-component__button" onClick={() => submit(token.id)}>{token.subscribed ? "unsubscribe" : "subscribe"}</span>
        </div>
      </div>
    );
  };
};