import React from 'react'
import { Route, IndexRoute } from 'react-router';

import App from 'containers/App'
import AllEpisodes from 'containers/AllEpisodes'
import ProfilePage from 'containers/ProfilePage'
import LoginPage from 'containers/LoginPage'
import Registration from 'containers/Registration'
import SubscriptionsPage from 'containers/SubscriptionsPage'
import FavouriteEpisodes from 'containers/FavouriteEpisodes'
import { NotFound } from 'components'
import { requireLogin } from 'utils'

const routes = (
    <Route path='/' component={App}>
        <IndexRoute component={AllEpisodes}/>
        <Route path="favourites" component={FavouriteEpisodes}/>
        <Route path='auth/'>
            <Route path='profile' component={ProfilePage}/>
            <Route path='login' component={LoginPage}/>
            <Route path='register' component={Registration}/>
        </Route>
        <Route onEnter={requireLogin} path='subscriptions' component={SubscriptionsPage}/>
        <Route path='*' component={NotFound}/>
    </Route>
)

export default routes